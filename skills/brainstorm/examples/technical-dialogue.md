# Technical 模式快速对话示例

> **场景**: 讨论向量数据库选择

---

## 对话记录

```yaml
用户: /brainstorm technical "RAG 实现，选择向量数据库"

AI: [加载上下文: US-001 AI 客服基础问答]

     已知约束:
     - 预算: < $500/月
     - 部署: 私有化

     可行的向量存储选项:

     | 方案 | 类型 | 月成本 | 优点 | 缺点 |
     |------|------|--------|------|------|
     | A | Pinecone | $70 | 易用 | 需外网 |
     | B | Weaviate | 自建 | 免费 | 运维成本 |
     | C | FAISS | 嵌入 | $0 | 功能有限 |
     | D | Milvus | 自建 | 免费 | 复杂度高 |

     考虑到[数据不出境]约束，排除 A。

     在 B/C/D 之间，你的数据量级大概是多少？

用户: 文档大概 1 万条，预期月增长 1000 条

AI: 这个规模下，C(FAISS) 最合适:
     - 完全免费，满足预算要求
     - 1万条文档性能良好
     - Python 生态支持完善

     但要考虑:
     - 持续增长需要定期评估迁移时机
     - 需要自己实现增量更新逻辑

     是否选择 FAISS？如果需要更强大的功能，
     我建议 Milvus 作为备选。

用户: 就用 FAISS 吧

AI: [记录决策 DEC-002]

     决策记录:
     - 方案: FAISS 向量存储
     - 理由: 满足成本 + 性能要求
     - 假设: 文档量 < 5 万条时可行
     - 风险: 增量更新需自行实现
     - 缓解: 预留迁移接口，定期评估

     已自动更新 OpenSpec proposal.md。

     下一步:
     [1] 继续讨论嵌入模型选择
     [2] 生成完整技术方案
     [3] 结束头脑风暴

用户: 1

AI: [继续对话]
     关于嵌入模型...
```

---

## 关键点分析

| 阶段 | 目标 | 技巧 |
|------|------|------|
| 上下文 | 加载约束 | 从之前决策读取 |
| 筛选 | 约束过滤 | 明确说明排除理由 |
| 推荐 | 综合评估 | 优点 + 缺点 + 考虑点 |
| 确认 | 决策记录 | 结构化记录决策 |

---

## 输出文件

```
docs/decisions/technical-002.md
openspec/changes/ai-customer-service/proposal.md (已更新)
```
