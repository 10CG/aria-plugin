# ä¸¥æ ¼åº¦çº§åˆ«è¯¦è§£

> **TDD Enforcer** - ä¸‰çº§ä¸¥æ ¼åº¦ç³»ç»Ÿå®Œæ•´è¯´æ˜
> **ç‰ˆæœ¬**: 2.0.0
> **æ›´æ–°**: 2026-02-06

---

## æ¦‚è¿°

TDD Enforcer æä¾›ä¸‰çº§ä¸¥æ ¼åº¦ç³»ç»Ÿï¼Œæ»¡è¶³ä¸åŒå›¢é˜Ÿå’Œåœºæ™¯çš„éœ€æ±‚ï¼š

| çº§åˆ« | åç§° | è¿è§„å¤„ç† | é€‚ç”¨åœºæ™¯ |
|------|------|---------|---------|
| Level 1 | Advisory | è­¦å‘Šï¼Œå…è®¸ç»§ç»­ | æ–°é¡¹ç›®å›¢é˜Ÿé€‚åº”æœŸ |
| Level 2 | Strict | æ‹¦æˆªï¼Œè¦æ±‚ä¿®æ­£ | ç”Ÿäº§ç¯å¢ƒé¡¹ç›® |
| Level 3 | Superpowers | å®Œæ•´æ£€æŸ¥ï¼Œä¸å¯ç»•è¿‡ | é«˜è´¨é‡è¦æ±‚é¡¹ç›® |

---

## Level 1: Advisory (å»ºè®®æ¨¡å¼)

### è®¾è®¡ç†å¿µ

Advisory æ¨¡å¼é€‚åˆå›¢é˜Ÿåˆšå¼€å§‹é‡‡ç”¨ TDD çš„é˜¶æ®µã€‚ç³»ç»Ÿä¼šæç¤º TDD æœ€ä½³å®è·µï¼Œä½†ä¸ä¼šå¼ºåˆ¶æ‹¦æˆªæ“ä½œã€‚

### æ£€æŸ¥è§„åˆ™

| æ£€æŸ¥é¡¹ | è¯´æ˜ | è¿è§„å¤„ç† |
|--------|------|---------|
| æµ‹è¯•æ–‡ä»¶å­˜åœ¨ | æ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”æµ‹è¯•æ–‡ä»¶ | è­¦å‘Š |
| æµ‹è¯•çŠ¶æ€ | æç¤ºå½“å‰æµ‹è¯•çŠ¶æ€ | ä¿¡æ¯æ˜¾ç¤º |

### è¾“å‡ºç¤ºä¾‹

```
âš ï¸ TDD è§„åˆ™è­¦å‘Š

å½“å‰æ–‡ä»¶: src/calculator.py
æœŸæœ›æµ‹è¯•: tests/test_calculator.py

å»ºè®®å…ˆç¼–å†™å¤±è´¥æµ‹è¯• (RED é˜¶æ®µ)

[ç»§ç»­] [äº†è§£æ›´å¤š]
```

### é…ç½®

```json
{
  "enabled": true,
  "strictness": "advisory"
}
```

### é€‚ç”¨åœºæ™¯

- âœ… æ–°å›¢é˜Ÿå­¦ä¹  TDD
- âœ… è¯•ç‚¹é¡¹ç›®éªŒè¯
- âœ… ä¸ªäººå¼€å‘ç»ƒä¹ 
- âŒ ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èä½¿ç”¨ Strictï¼‰

---

## Level 2: Strict (ä¸¥æ ¼æ¨¡å¼)

### è®¾è®¡ç†å¿µ

Strict æ¨¡å¼å¼ºåˆ¶æ‰§è¡Œ TDD çš„æ ¸å¿ƒåŸåˆ™ï¼šæµ‹è¯•å…ˆäºä»£ç ã€‚ç³»ç»Ÿä¼šåœ¨è¿åè§„åˆ™æ—¶æ‹¦æˆªæ“ä½œã€‚

### æ£€æŸ¥è§„åˆ™

| æ£€æŸ¥é¡¹ | è¯´æ˜ | è¿è§„å¤„ç† |
|--------|------|---------|
| æµ‹è¯•æ–‡ä»¶å­˜åœ¨ | å¿…é¡»å­˜åœ¨å¯¹åº”æµ‹è¯•æ–‡ä»¶ | æ‹¦æˆª |
| æµ‹è¯•çŠ¶æ€ (RED) | æµ‹è¯•å¿…é¡»å¤„äºå¤±è´¥çŠ¶æ€ | æ‹¦æˆª |

### è¾“å‡ºç¤ºä¾‹

```
ğŸš« TDD ä¸¥æ ¼æ¨¡å¼æ‹¦æˆª

å½“å‰æ“ä½œ: ç¼–è¾‘ src/auth.py
è¦æ±‚: tests/test_auth.py ä¸­å¿…é¡»æœ‰å¤±è´¥çš„æµ‹è¯•

[åˆ›å»ºæµ‹è¯•] [å–æ¶ˆ]
```

### é…ç½®

```json
{
  "enabled": true,
  "strictness": "strict",
  "skip_patterns": [
    "**/*.md",
    "**/*.json",
    "**/config/**"
  ]
}
```

### é€‚ç”¨åœºæ™¯

- âœ… ç”Ÿäº§ç¯å¢ƒé¡¹ç›®
- âœ… å·²ç†Ÿæ‚‰ TDD çš„å›¢é˜Ÿ
- âœ… éœ€è¦ç¡®ä¿ä»£ç è´¨é‡
- âŒ å­¦ä¹ é˜¶æ®µï¼ˆæ¨èå…ˆç”¨ Advisoryï¼‰

---

## Level 3: Superpowers (å®Œå…¨æ¨¡å¼)

### è®¾è®¡ç†å¿µ

Superpowers æ¨¡å¼æä¾›æœ€å®Œæ•´çš„ TDD è´¨é‡æ§åˆ¶ï¼ŒåŒ…æ‹¬é‡‘è£…ç”²æµ‹è¯•æ£€æµ‹ã€GREEN é˜¶æ®µä»£ç å¢é‡é™åˆ¶å’ŒçŠ¶æ€æŒä¹…åŒ–ã€‚

### æ£€æŸ¥è§„åˆ™

| æ£€æŸ¥é¡¹ | è¯´æ˜ | è¿è§„å¤„ç† |
|--------|------|---------|
| æµ‹è¯•æ–‡ä»¶å­˜åœ¨ | å¿…é¡»å­˜åœ¨å¯¹åº”æµ‹è¯•æ–‡ä»¶ | æ‹¦æˆª |
| æµ‹è¯•çŠ¶æ€ (RED) | æµ‹è¯•å¿…é¡»å¤„äºå¤±è´¥çŠ¶æ€ | æ‹¦æˆª |
| é‡‘è£…ç”²æµ‹è¯• | æ£€æµ‹æ— æ„ä¹‰çš„æµ‹è¯• | æ‹¦æˆª |
| GREEN é˜¶æ®µé™åˆ¶ | ä»£ç å¢é‡æ£€æŸ¥ | è­¦å‘Šæˆ–æ‹¦æˆª |
| çŠ¶æ€æŒä¹…åŒ– | è·¨ä¼šè¯çŠ¶æ€æ¢å¤ | è‡ªåŠ¨ |

### é‡‘è£…ç”²æµ‹è¯•æ£€æµ‹

| åæ¨¡å¼ | æè¿° | ä¸¥é‡ç¨‹åº¦ |
|--------|------|---------|
| `assert True` | æ°¸è¿œé€šè¿‡çš„æ–­è¨€ | error |
| `assert False` | æ°¸è¿œé€šè¿‡çš„æ–­è¨€ | error |
| `@skip` | è·³è¿‡çš„æµ‹è¯• | warning |
| ç©ºæµ‹è¯• | æ²¡æœ‰æ–­è¨€çš„æµ‹è¯• | error |

### GREEN é˜¶æ®µé™åˆ¶

| é™åˆ¶é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `max_lines_after_pass` | 50 | æµ‹è¯•é€šè¿‡åæœ€å¤§æ–°å¢è¡Œæ•° |
| `max_new_functions` | 3 | æµ‹è¯•é€šè¿‡åæœ€å¤§æ–°å¢å‡½æ•°æ•° |
| `warn_on_exceed` | true | è¶…é™æ—¶è­¦å‘Šè€Œéæ‹¦æˆª |

### è¾“å‡ºç¤ºä¾‹

```
ğŸš« Superpowers æ¨¡å¼æ‹¦æˆª

è¿è§„ç±»å‹: é‡‘è£…ç”²æµ‹è¯•æ£€æµ‹

å‘ç°é—®é¢˜:
  - tests/test_auth.py:15: assert True
  - tests/test_auth.py:23: ç©ºæµ‹è¯•

è¯·ä¿®å¤æµ‹è¯•åå†ç»§ç»­

[ä¿®å¤æµ‹è¯•] [å–æ¶ˆ]
```

### é…ç½®

```json
{
  "enabled": true,
  "strictness": "superpowers",
  "green_phase_limits": {
    "enabled": true,
    "max_lines_after_pass": 50,
    "max_new_functions": 3,
    "warn_on_exceed": true
  },
  "golden_testing_detection": {
    "enabled": true,
    "patterns": [
      {"pattern": "assert True", "severity": "error"},
      {"pattern": "assert False", "severity": "error"},
      {"pattern": "@skip", "severity": "warning"}
    ]
  },
  "state_persistence": {
    "enabled": true,
    "state_file": ".claude/tdd-state.yaml"
  }
}
```

### é€‚ç”¨åœºæ™¯

- âœ… é«˜è´¨é‡è¦æ±‚é¡¹ç›®
- âœ… éœ€è¦å®Œæ•´è´¨é‡æ§åˆ¶
- âœ… å›¢é˜Ÿå®Œå…¨ç†Ÿæ‚‰ TDD
- âŒ å¿«é€ŸåŸå‹å¼€å‘

---

## çº§åˆ«å¯¹æ¯”è¡¨

| ç‰¹æ€§ | Advisory | Strict | Superpowers |
|------|----------|--------|-------------|
| **RED æ£€æŸ¥** | è­¦å‘Š | æ‹¦æˆª | æ‹¦æˆª |
| **æµ‹è¯•å¿…é¡»å…ˆå¤±è´¥** | è­¦å‘Š | æ‹¦æˆª | æ‹¦æˆª + éªŒè¯å¤±è´¥åŸå›  |
| **GREEN é™åˆ¶** | æ—  | æ—  | ä»£ç å¢é‡æ£€æŸ¥ |
| **åæ¨¡å¼æ£€æµ‹** | æ—  | æ—  | è‡ªåŠ¨æ£€æµ‹å¹¶æ‹¦æˆª |
| **æœ€å°å®ç°éªŒè¯** | æ—  | æ—  | è¡Œæ•°/å‡½æ•°æ•°é™åˆ¶ |
| **çŠ¶æ€æŒä¹…åŒ–** | æ—  | æ—  | è·¨ä¼šè¯æ¢å¤ |
| **é€‚ç”¨åœºæ™¯** | å­¦ä¹ /è¯•ç‚¹ | æ­£å¼å¼€å‘ | é«˜è´¨é‡è¦æ±‚ |

---

## é€‰æ‹©å»ºè®®

### å†³ç­–æ ‘

```
å›¢é˜Ÿåˆšå¼€å§‹ TDD?
â”œâ”€ æ˜¯ â†’ Advisory (3-6ä¸ªæœˆé€‚åº”æœŸ)
â””â”€ å¦ â†’ é¡¹ç›®è´¨é‡è¦æ±‚?
    â”œâ”€ ä¸€èˆ¬ â†’ Strict
    â””â”€ æé«˜ â†’ Superpowers
```

### å‡çº§è·¯å¾„

```
Advisory (å­¦ä¹ æœŸ)
    â†“ 3-6ä¸ªæœˆ
Strict (ç”Ÿäº§ç¯å¢ƒ)
    â†“ å›¢é˜Ÿç†Ÿç»ƒ
Superpowers (é«˜è´¨é‡é¡¹ç›®)
```

---

## é…ç½®è¿ç§»

### ä» Advisory å‡çº§åˆ° Strict

```json
// ä¿®æ”¹ strictness å­—æ®µ
{
  "strictness": "strict"  // ä» "advisory" æ”¹ä¸º "strict"
}
```

### ä» Strict å‡çº§åˆ° Superpowers

```json
{
  "strictness": "superpowers",
  "green_phase_limits": {
    "enabled": true,
    "max_lines_after_pass": 50,
    "max_new_functions": 3,
    "warn_on_exceed": true
  },
  "golden_testing_detection": {
    "enabled": true
  },
  "state_persistence": {
    "enabled": true
  }
}
```

---

**æœ€åæ›´æ–°**: 2026-02-06
