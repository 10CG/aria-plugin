---
name: state-scanner
description: |
  é¡¹ç›®çŠ¶æ€æ‰«æä¸æ™ºèƒ½å·¥ä½œæµæ¨èï¼Œåæ­¥å¾ªç¯çš„ç»Ÿä¸€å…¥å£ã€‚
  æ”¶é›†é¡¹ç›®çŠ¶æ€ã€åˆ†æå˜æ›´ã€æ¨èæœ€ä½³å·¥ä½œæµã€å¼•å¯¼ç”¨æˆ·ç¡®è®¤æ‰§è¡Œã€‚

  ä½¿ç”¨åœºæ™¯ï¼š"æŸ¥çœ‹é¡¹ç›®å½“å‰çŠ¶æ€"ã€"æˆ‘è¦æäº¤ä»£ç "ã€"å¼€å‘æ–°åŠŸèƒ½"
argument-hint: "[intent]"
disable-model-invocation: false
user-invocable: true
allowed-tools: Read, Glob, Grep, Bash
---

# çŠ¶æ€æ‰«æä¸æ™ºèƒ½æ¨è (State Scanner v2.0)

> **ç‰ˆæœ¬**: 2.1.0 | **è§’è‰²**: åæ­¥å¾ªç¯ç»Ÿä¸€å…¥å£

## å¿«é€Ÿå¼€å§‹

### æˆ‘åº”è¯¥ä½¿ç”¨è¿™ä¸ª Skill å—ï¼Ÿ

**ä½¿ç”¨åœºæ™¯**:
- å¼€å§‹ä»»ä½•å¼€å‘ä»»åŠ¡å‰çš„çŠ¶æ€æ£€æŸ¥
- ä¸ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸ªå·¥ä½œæµ
- éœ€è¦ç³»ç»Ÿæ¨èæœ€ä½³æ‰§è¡Œè·¯å¾„
- æŸ¥è¯¢å¤šæ¨¡å—é¡¹ç›®çš„æ•´ä½“è¿›åº¦

**ä¸ä½¿ç”¨åœºæ™¯**:
- å·²çŸ¥è¦æ‰§è¡Œç‰¹å®š Phase â†’ ç›´æ¥è°ƒç”¨ Phase Skill
- åªæƒ³è¿è¡Œç‰¹å®šæ­¥éª¤ â†’ ç›´æ¥è°ƒç”¨æ­¥éª¤ Skill

---

## æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| **çŠ¶æ€æ„ŸçŸ¥** | æ”¶é›† Git çŠ¶æ€ã€UPM è¿›åº¦ã€OpenSpec çŠ¶æ€ã€å˜æ›´åˆ†æ |
| **æ™ºèƒ½æ¨è** | åŸºäºçŠ¶æ€ç”Ÿæˆå·¥ä½œæµæ¨èï¼Œé™„å¸¦ç†ç”±è¯´æ˜ |
| **ç”¨æˆ·ç¡®è®¤** | å±•ç¤ºé€‰é¡¹ï¼Œè®©ç”¨æˆ·ç¡®è®¤æˆ–è‡ªå®šä¹‰å·¥ä½œæµ |
| **å·¥ä½œæµå¯åŠ¨** | å°†ç¡®è®¤çš„å·¥ä½œæµä¼ é€’ç»™ workflow-runner æ‰§è¡Œ |

---

## æ‰§è¡Œæµç¨‹

### é˜¶æ®µ 1: çŠ¶æ€æ”¶é›†

```yaml
æ”¶é›†å†…å®¹:
  git:
    current_branch: å½“å‰åˆ†æ”¯å
    uncommitted_changes: æœªæäº¤çš„å˜æ›´æ•°
    staged_files: å·²æš‚å­˜æ–‡ä»¶åˆ—è¡¨
    unstaged_files: æœªæš‚å­˜æ–‡ä»¶åˆ—è¡¨
    recent_commits: æœ€è¿‘ 5 æ¡æäº¤

  project:
    phase_cycle: ä» UPM è¯»å–å½“å‰ Phase/Cycle
    active_module: æ´»è·ƒæ¨¡å— (mobile/backend/shared)
    openspec_status: OpenSpec å˜æ›´çŠ¶æ€

  changes:
    file_types: å˜æ›´æ–‡ä»¶ç±»å‹åˆ†ç±» (code/test/docs/config)
    change_count: å˜æ›´æ–‡ä»¶æ•°é‡
    complexity: å˜æ›´å¤æ‚åº¦è¯„ä¼° (Level1/Level2/Level3)
    architecture_impact: æ˜¯å¦å½±å“æ¶æ„æ–‡æ¡£
    test_coverage: æ˜¯å¦æœ‰å¯¹åº”æµ‹è¯•æ–‡ä»¶

  requirements:                       # æ–°å¢: éœ€æ±‚çŠ¶æ€
    configured: æ˜¯å¦é…ç½®éœ€æ±‚è¿½è¸ª
    prd_exists: PRD æ–‡ä»¶æ˜¯å¦å­˜åœ¨
    stories:
      total: User Story æ€»æ•°
      ready: å°±ç»ªå¾…å®ç°
      in_progress: è¿›è¡Œä¸­
      done: å·²å®Œæˆ
    coverage:
      with_openspec: æœ‰æŠ€æœ¯æ–¹æ¡ˆçš„ Story æ•°
      without_openspec: æ— æŠ€æœ¯æ–¹æ¡ˆçš„ Story æ•°
    forgejo:
      synced: æ˜¯å¦ä¸ Forgejo åŒæ­¥
      drift: æ˜¯å¦æœ‰çŠ¶æ€åå·®
```

### é˜¶æ®µ 1.5: éœ€æ±‚çŠ¶æ€æ”¶é›† (å§‹ç»ˆæ‰§è¡Œ)

**é‡è¦**: æ­¤é˜¶æ®µå§‹ç»ˆæ‰§è¡Œï¼Œå³ä½¿éœ€æ±‚ç›®å½•ä¸å­˜åœ¨ä¹Ÿè¦è¾“å‡ºéœ€æ±‚çŠ¶æ€ã€‚

```yaml
æ£€æµ‹è·¯å¾„:
  ä¸»é¡¹ç›®: docs/requirements/
  æ¨¡å—çº§: {module}/docs/requirements/

æ£€æµ‹æ­¥éª¤:
  1. æ£€æŸ¥ docs/requirements/ ç›®å½•æ˜¯å¦å­˜åœ¨
  2. å¦‚æœå­˜åœ¨:
     - æ‰«æ prd-*.md æ–‡ä»¶
     - æ‰«æ user-stories/US-*.md æ–‡ä»¶
     - è°ƒç”¨ requirements-validator (check mode)
  3. å¦‚æœä¸å­˜åœ¨:
     - è®¾ç½® configured: false
     - è¾“å‡ºæœªé…ç½®æç¤º

è¾“å‡º (å·²é…ç½®):
  requirements_status:
    configured: true
    prd_exists: true
    prd_path: "docs/requirements/prd-todo-app-v1.md"
    prd_status: Draft
    stories:
      total: 8
      ready: 3
      in_progress: 2
      done: 3
    coverage:
      with_openspec: 5
      without_openspec: 3
    validation:
      issues: []

è¾“å‡º (æœªé…ç½®):
  requirements_status:
    configured: false
    expected_path: "docs/requirements/"
    suggestion: "å¦‚éœ€å¯ç”¨éœ€æ±‚è¿½è¸ªï¼Œåˆ›å»º PRD æ–‡ä»¶æˆ–ä½¿ç”¨ OpenSpec"
```

### é˜¶æ®µ 1.6: æ¶æ„çŠ¶æ€æ‰«æ

**é‡è¦**: æ­¤é˜¶æ®µå§‹ç»ˆæ‰§è¡Œï¼Œæ£€æµ‹ System Architecture æ–‡æ¡£çŠ¶æ€ã€‚

```yaml
æ£€æµ‹è·¯å¾„:
  ä¸»é¡¹ç›®: docs/architecture/system-architecture.md
  æ¨¡å—çº§: {module}/docs/ARCHITECTURE.md

æ£€æµ‹æ­¥éª¤:
  1. æ£€æŸ¥ docs/architecture/system-architecture.md æ˜¯å¦å­˜åœ¨
  2. å¦‚æœå­˜åœ¨:
     - æå– Status header (draft | active | outdated)
     - æå– Last Updated timestamp
     - æ£€æµ‹ Parent PRD å¼•ç”¨
  3. æ£€æŸ¥ä¸ PRD çš„é“¾è·¯å®Œæ•´æ€§:
     - PRD æ˜¯å¦å­˜åœ¨
     - Architecture æ˜¯å¦å¼•ç”¨ PRD
     - æ—¶é—´æˆ³æ˜¯å¦åˆç† (Architecture åº”æ™šäº PRD)

è¾“å‡º:
  architecture_status:
    exists: true
    path: "docs/architecture/system-architecture.md"
    status: active          # draft | active | outdated
    last_updated: "2026-01-01"
    parent_prd: "prd-v2.1.0"
    chain_valid: true       # PRD â†’ Architecture é“¾è·¯å®Œæ•´æ€§
    chain_issues: []        # é“¾è·¯é—®é¢˜åˆ—è¡¨

è¾“å‡º (æœªé…ç½®):
  architecture_status:
    exists: false
    expected_path: "docs/architecture/system-architecture.md"
    suggestion: "å»ºè®®åˆ›å»º System Architecture æ–‡æ¡£"
```

### é˜¶æ®µ 2: æ¨èå†³ç­–

```yaml
æ¨èè§„åˆ™ (æŒ‰ä¼˜å…ˆçº§):
  1. commit_only:
     æ¡ä»¶: å·²åœ¨åŠŸèƒ½åˆ†æ”¯ + æœ‰æš‚å­˜å˜æ›´ + æ— æœªæš‚å­˜å˜æ›´
     æ¨è: [C.1]
     ç†ç”±: "å˜æ›´å·²æš‚å­˜ï¼Œåªéœ€æäº¤"

  2. quick_fix:
     æ¡ä»¶: å˜æ›´æ–‡ä»¶ <= 3 + å˜æ›´ç±»å‹ä¸º bugfix/typo/config
     æ¨è: quick-fix
     ç†ç”±: "ç®€å•ä¿®å¤ï¼Œä½¿ç”¨å¿«é€Ÿæµç¨‹"

  3. feature_with_spec:
     æ¡ä»¶: æœ‰æ´»è·ƒ OpenSpec + çŠ¶æ€ä¸º approved
     æ¨è: feature-dev (è·³è¿‡ Phase A)
     ç†ç”±: "å·²æœ‰ OpenSpecï¼Œè·³è¿‡è§„åˆ’é˜¶æ®µ"

  4. feature_new:
     æ¡ä»¶: å¤æ‚åº¦ >= Level2 + æ—  OpenSpec
     æ¨è: full-cycle
     ç†ç”±: "æ–°åŠŸèƒ½å¼€å‘ï¼Œå»ºè®®å®Œæ•´æµç¨‹"

  # éœ€æ±‚ç›¸å…³è§„åˆ™ (æ–°å¢)
  5. requirements_issues:
     æ¡ä»¶: requirements_status.validation.issues > 0
     æ¨è: requirements-check
     ç†ç”±: "éœ€æ±‚æ–‡æ¡£å­˜åœ¨é—®é¢˜ï¼Œå»ºè®®å…ˆä¿®å¤"

  6. pending_stories:
     æ¡ä»¶: stories.ready > 0 + æ— æ´»è·ƒå¼€å‘
     æ¨è: start-implementation
     ç†ç”±: "æœ‰ N ä¸ªå°±ç»ª Story å¯å¼€å§‹å®ç°"

  7. missing_prd:
     æ¡ä»¶: !prd_exists + å¤æ‚åº¦ >= Level2
     æ¨è: create-prd
     ç†ç”±: "å¤æ‚åŠŸèƒ½å˜æ›´ï¼Œå»ºè®®å…ˆåˆ›å»º PRD"

  8. missing_openspec:
     æ¡ä»¶: stories.ready > 0 + æ— å¯¹åº” OpenSpec
     æ¨è: create-openspec
     ç†ç”±: "æœ‰å°±ç»ª Storyï¼Œå»ºè®®åˆ›å»ºæŠ€æœ¯æ–¹æ¡ˆ"

  9. forgejo_drift:
     æ¡ä»¶: forgejo.drift = true
     æ¨è: sync-forgejo
     ç†ç”±: "Story ä¸ Issue çŠ¶æ€ä¸ä¸€è‡´ï¼Œå»ºè®®åŒæ­¥"

  5. doc_only:
     æ¡ä»¶: æ‰€æœ‰å˜æ›´æ–‡ä»¶ä¸º *.md + æ— ä»£ç å˜æ›´
     æ¨è: doc-update
     ç†ç”±: "ä»…æ–‡æ¡£å˜æ›´"

è¯¦ç»†è§„åˆ™: è§ RECOMMENDATION_RULES.md
```

### é˜¶æ®µ 3: ç”¨æˆ·ç¡®è®¤

```yaml
å±•ç¤ºå†…å®¹:
  - å½“å‰çŠ¶æ€æ‘˜è¦
  - ä¸»æ¨èå·¥ä½œæµ (æ ‡è®° "æ¨è")
  - 2-3 ä¸ªå¤‡é€‰æ–¹æ¡ˆ
  - è‡ªå®šä¹‰ç»„åˆé€‰é¡¹

ç”¨æˆ·å¯ä»¥:
  - é€‰æ‹©æ¨è [1]
  - é€‰æ‹©å¤‡é€‰ [2-4]
  - è¾“å…¥è‡ªå®šä¹‰ (å¦‚ "B.2 + C.1")
```

### é˜¶æ®µ 4: å·¥ä½œæµå¯åŠ¨

```yaml
è¾“å‡ºåˆ° workflow-runner:
  workflow: ç¡®è®¤çš„å·¥ä½œæµåç§°æˆ–è‡ªå®šä¹‰æ­¥éª¤
  context:
    phase_cycle: å½“å‰è¿›åº¦
    module: æ´»è·ƒæ¨¡å—
    changed_files: å˜æ›´æ–‡ä»¶åˆ—è¡¨
    skip_steps: æ™ºèƒ½è·³è¿‡çš„æ­¥éª¤
```

---

## è¾“å‡ºæ ¼å¼

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    PROJECT STATE ANALYSIS                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ å½“å‰çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  åˆ†æ”¯: feature/add-auth
  æ¨¡å—: mobile
  Phase/Cycle: Phase4-Cycle9
  å˜æ›´: 3 æ–‡ä»¶ (lib/*.dart, test/*.dart)
  OpenSpec: add-auth-feature (approved)

ğŸ“Š å˜æ›´åˆ†æ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ç±»å‹: åŠŸèƒ½ä»£ç  + æµ‹è¯•
  å¤æ‚åº¦: Level 2
  æ¶æ„å½±å“: æ— 
  æµ‹è¯•è¦†ç›–: âœ… æœ‰å¯¹åº”æµ‹è¯•

ğŸ“„ éœ€æ±‚çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  é…ç½®çŠ¶æ€: âœ… å·²é…ç½®
  PRD: prd-todo-app-v1.md (Draft)
  User Stories: 8 ä¸ª (ready: 3, in_progress: 2, done: 3)
  OpenSpec è¦†ç›–: 5/8 (62.5%)

ğŸ—ï¸ æ¶æ„çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  System Architecture: âœ… å­˜åœ¨
  è·¯å¾„: docs/architecture/system-architecture.md
  çŠ¶æ€: active
  æœ€åæ›´æ–°: 2026-01-01
  éœ€æ±‚é“¾è·¯: âœ… PRD â†’ Architecture å®Œæ•´

ğŸ¯ æ¨èå·¥ä½œæµ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â¤ [1] feature-dev (æ¨è)
      æ‰§è¡Œ: B.1 â†’ B.2 â†’ C.1
      è·³è¿‡: A.* (å·²æœ‰ Spec), B.3 (æ— æ¶æ„å˜æ›´)
      ç†ç”±: å·²æœ‰ OpenSpecï¼Œä»£ç å’Œæµ‹è¯•å°±ç»ª

  â—‹ [2] quick-fix
      æ‰§è¡Œ: B.2 â†’ C.1
      ç†ç”±: å¦‚æœåªæ˜¯å°ä¿®å¤

  â—‹ [3] full-cycle
      æ‰§è¡Œ: A.0 â†’ D.2 (å®Œæ•´)
      ç†ç”±: å¦‚æœéœ€è¦å®Œæ•´æµç¨‹

  â—‹ [4] è‡ªå®šä¹‰ç»„åˆ
      è¾“å…¥æ ¼å¼: "B.2 + C.1" æˆ– "Phase B"

ğŸ¤” é€‰æ‹© [1-4] æˆ–è¾“å…¥è‡ªå®šä¹‰:
```

### è¾“å‡ºæ ¼å¼ (éœ€æ±‚æœªé…ç½®æ—¶)

```
ğŸ“„ éœ€æ±‚çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  é…ç½®çŠ¶æ€: âŒ æœªé…ç½®éœ€æ±‚è¿½è¸ª
  æœŸæœ›è·¯å¾„: docs/requirements/
  å»ºè®®æ“ä½œ:
    - å¦‚éœ€å¯ç”¨éœ€æ±‚è¿½è¸ªï¼Œå‚è€ƒ standards/templates/prd-template.md
    - æˆ–ä½¿ç”¨ OpenSpec ä½œä¸ºè½»é‡æ›¿ä»£æ–¹æ¡ˆ
```

### è¾“å‡ºæ ¼å¼ (æ¶æ„æœªé…ç½®æ—¶)

```
ğŸ—ï¸ æ¶æ„çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  System Architecture: âŒ ä¸å­˜åœ¨
  æœŸæœ›è·¯å¾„: docs/architecture/system-architecture.md
  å»ºè®®æ“ä½œ:
    - å¦‚éœ€å¯ç”¨æ¶æ„è¿½è¸ªï¼Œåˆ›å»º System Architecture æ–‡æ¡£
    - å‚è€ƒ standards/core/documentation/system-architecture-spec.md
```

### è¾“å‡ºæ ¼å¼ (éœ€æ±‚é“¾è·¯ä¸å®Œæ•´æ—¶)

```
ğŸ—ï¸ æ¶æ„çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  System Architecture: âš ï¸ å­˜åœ¨ä½†é“¾è·¯ä¸å®Œæ•´
  è·¯å¾„: docs/architecture/system-architecture.md
  çŠ¶æ€: active
  éœ€æ±‚é“¾è·¯: âŒ é—®é¢˜:
    - Architecture æœªå¼•ç”¨ PRD
    - PRD æ›´æ–°æ—¶é—´æ™šäº Architecture
```

---

## è¾“å…¥å‚æ•°

| å‚æ•° | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `intent` | âŒ | ç”¨æˆ·æ„å›¾ (å½±å“æ¨è) | "æäº¤ä»£ç ", "å¼€å‘åŠŸèƒ½" |
| `module` | âŒ | ç›®æ ‡æ¨¡å— (è‡ªåŠ¨æ£€æµ‹) | `mobile`, `backend` |
| `skip_recommendation` | âŒ | è·³è¿‡æ¨èç›´æ¥æ‰«æ | `true`, `false` |

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ™ºèƒ½æ¨è

```yaml
ç”¨æˆ·: "æˆ‘è¦æäº¤ä»£ç "

state-scanner æ‰§è¡Œ:
  1. æ£€æµ‹ git status â†’ 3 æ–‡ä»¶å·²æš‚å­˜
  2. åˆ†æå˜æ›´ç±»å‹ â†’ åŠŸèƒ½ä»£ç  + æµ‹è¯•
  3. æ£€æŸ¥ OpenSpec â†’ add-auth-feature (approved)
  4. ç”Ÿæˆæ¨è â†’ feature-dev (è·³è¿‡ Phase A)
  5. å±•ç¤ºé€‰é¡¹ï¼Œç­‰å¾…ç¡®è®¤

ç”¨æˆ·: "1"

è¾“å‡ºåˆ° workflow-runner:
  workflow: feature-dev
  skip_steps: [A.1, A.2, A.3, B.3]
```

### ç¤ºä¾‹ 2: è‡ªå®šä¹‰ç»„åˆ

```yaml
ç”¨æˆ·: "åªè¿è¡Œæµ‹è¯•å’Œæäº¤"

state-scanner æ‰§è¡Œ:
  1. æ”¶é›†çŠ¶æ€
  2. å±•ç¤ºæ¨è

ç”¨æˆ·: "B.2 + C.1"

è¾“å‡ºåˆ° workflow-runner:
  workflow: custom
  steps: [B.2, C.1]
```

### ç¤ºä¾‹ 3: ä»…æŸ¥çœ‹çŠ¶æ€

```yaml
ç”¨æˆ·: "æŸ¥çœ‹é¡¹ç›®çŠ¶æ€"

state-scanner æ‰§è¡Œ:
  è¾“å…¥: skip_recommendation: false

  è¾“å‡º: å®Œæ•´çŠ¶æ€æŠ¥å‘Š + æ¨èé€‰é¡¹

ç”¨æˆ·: "åªçœ‹ä¸æ‰§è¡Œ"

ç»“æŸï¼Œä¸è°ƒç”¨ workflow-runner
```

---

## æ¨èè§„åˆ™é…ç½®

è¯¦ç»†æ¨èè§„åˆ™å®šä¹‰åœ¨ [RECOMMENDATION_RULES.md](./RECOMMENDATION_RULES.md)

### è§„åˆ™ä¼˜å…ˆçº§

```
1.  commit_only           (æœ€é«˜ - æœ€ç®€å•åœºæ™¯)
1.5 requirements_issues   (éœ€æ±‚æ–‡æ¡£æœ‰é”™è¯¯)
1.6 architecture_missing  (PRD å­˜åœ¨ä½†æ—  Architecture)
1.7 architecture_outdated (Architecture çŠ¶æ€ä¸º outdated)
1.8 architecture_chain_broken (éœ€æ±‚é“¾è·¯ä¸å®Œæ•´)
2.  quick_fix
3.  feature_with_spec
3.5 pending_stories       (æœ‰å°±ç»ª Story)
3.8 missing_openspec      (Story æ— æŠ€æœ¯æ–¹æ¡ˆ)
4.  doc_only
5.  feature_new           (å…œåº•è§„åˆ™)
5.5 requirements_info     (éœ€æ±‚æœªé…ç½®æç¤º)
```

### è‡ªå®šä¹‰è§„åˆ™

å¯åœ¨ RECOMMENDATION_RULES.md ä¸­æ·»åŠ é¡¹ç›®ç‰¹å®šè§„åˆ™ã€‚

---

## ä¸ Phase Skills çš„å…³ç³»

```
state-scanner v2.0 (æœ¬ Skill)
    â”‚
    â”‚ æ¨è + ç”¨æˆ·ç¡®è®¤
    â–¼
workflow-runner v2.0
    â”‚
    â”œâ”€â”€â–¶ phase-a-planner (A.1-A.3)
    â”œâ”€â”€â–¶ phase-b-developer (B.1-B.3)
    â”œâ”€â”€â–¶ phase-c-integrator (C.1-C.2)
    â””â”€â”€â–¶ phase-d-closer (D.1-D.2)
```

---

## é”™è¯¯å¤„ç†

| é”™è¯¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| Git çŠ¶æ€è·å–å¤±è´¥ | ä¸åœ¨ Git ä»“åº“ä¸­ | æç¤ºåˆå§‹åŒ– Git |
| UPM æ–‡æ¡£ä¸å­˜åœ¨ | æ¨¡å—æœªé…ç½® UPM | ä½¿ç”¨é»˜è®¤è¿›åº¦ä¿¡æ¯ |
| æ— æ³•ç¡®å®šæ¨¡å— | æ–‡ä»¶åˆ†å¸ƒå¤šæ¨¡å— | æç¤ºç”¨æˆ·æ‰‹åŠ¨æŒ‡å®š |
| æ¨èå†²çª | å¤šè§„åˆ™åŒæ—¶åŒ¹é… | æŒ‰ä¼˜å…ˆçº§é€‰æ‹©ç¬¬ä¸€ä¸ª |

---

## æ£€æŸ¥æ¸…å•

### ä½¿ç”¨å‰
- [ ] æœ‰å¾…å¤„ç†çš„å˜æ›´æˆ–ä»»åŠ¡
- [ ] äº†è§£å¤§è‡´æƒ³åšä»€ä¹ˆ

### ä½¿ç”¨å
- [ ] å·²äº†è§£å½“å‰é¡¹ç›®çŠ¶æ€
- [ ] å·²ç¡®è®¤æ‰§è¡Œçš„å·¥ä½œæµ
- [ ] workflow-runner å·²æ¥æ”¶æ‰§è¡Œè®¡åˆ’

---

## è¿ç§»è¯´æ˜ (v1.0 â†’ v2.0)

### å˜æ›´ç‚¹

| v1.0 | v2.0 |
|------|------|
| ä»…çŠ¶æ€æ‰«æ | çŠ¶æ€ + æ¨è + ç¡®è®¤ |
| æ–¹å‘é€‰æ‹© (A/B/C/D) | å·¥ä½œæµæ¨è + è‡ªå®šä¹‰ |
| è¾“å‡ºæŠ¥å‘Šåç»“æŸ | è¾“å‡ºåˆ° workflow-runner |

### å‘åå…¼å®¹

- åŸæœ‰çš„çŠ¶æ€æ‰«æåŠŸèƒ½å®Œå…¨ä¿ç•™
- "åªçœ‹ä¸æ‰§è¡Œ" é€‰é¡¹ä¿æŒå¯ç”¨
- UPM è§£æé€»è¾‘ä¸å˜

---

## ç›¸å…³æ–‡æ¡£

- [RECOMMENDATION_RULES.md](./RECOMMENDATION_RULES.md) - æ¨èè§„åˆ™å®šä¹‰
- [workflow-runner](../workflow-runner/SKILL.md) - å·¥ä½œæµæ‰§è¡Œå™¨
- [phase-a-planner](../phase-a-planner/SKILL.md) - è§„åˆ’é˜¶æ®µ
- [phase-b-developer](../phase-b-developer/SKILL.md) - å¼€å‘é˜¶æ®µ
- [phase-c-integrator](../phase-c-integrator/SKILL.md) - é›†æˆé˜¶æ®µ
- [phase-d-closer](../phase-d-closer/SKILL.md) - æ”¶å°¾é˜¶æ®µ

---

**æœ€åæ›´æ–°**: 2026-01-02
**Skillç‰ˆæœ¬**: 2.1.0
